@{
	ViewData["Title"] = "Login";
	//Layout = "_Layout";
	Layout = null;

}

<!Doctype html>
<html>
<head>
	<title>Login CK</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="~/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="~/LoginIndexCss/css/util.css">
	<link rel="stylesheet" type="text/css" href="~/LoginIndexCss/css/main.css">
	<link rel="stylesheet" type="text/css" href="/css/test.css" />
	<script src="/js/sweetalert2@11"></script>
	<script src="/css/sweetalert2@11.js"></script>
	<style>
		.show-password-icon {
			cursor: pointer;
			position: absolute;
			right: 10px;
			top: 50%;
			transform: translateY(-50%);
			color: #ccc;
			font-size: 28px;
			color: #ff1c32;
		}

		.input-container {
			position: relative;
		}

		#passwordInput {
			padding-right: 30px; /* Make room for the icon */
		}
	</style>
	<script>
		function togglePasswordVisibility() {
			var passwordInput = document.getElementById('passwordInput');
			if (passwordInput.type === "password") {
				passwordInput.type = "text";
			} else {
				passwordInput.type = "password";
			}
		}
	</script>
	<script src="/js/sweetalert2@11"></script>


</head>
<body>

	<div class="limiter">
		<div class="container-login100" style="background-image: url('/images/bg-01.jpg');">
			<img sre ="/images/bg-01.jpg" />
                    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
                    {
                        <div class="alert alert-danger">@ViewBag.ErrorMessage</div>
                    }
				<div class="wrap-login100 p-t-30 p-b-50" style="margin-left:8%">
				
				<form class="login100-form validate-form p-b-33 p-t-5" style="margin-top:35%" method="post" action="/Login/Login" autocomplete="off">
					<div class="wrap-input100 validate-input" data-validate="Enter username">
							<input class="input100" type="text" name="username" placeholder="User name">
						<span class="focus-input100">
							<svg style="position: absolute; top: 35%; left: 6%; width: 25px; height: 25px; color: #a60f0f;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
								<path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
							</svg>
						</span>
					</div>
					<div class="wrap-input100 validate-input" data-validate="Enter password">
						<div class="input-container">
							<input class="input100" type="password" name="password" placeholder="Password" id="passwordInput" required>
							<span class="show-password-icon" onclick="togglePasswordVisibility()">&#128065;</span> <!-- Eye icon -->
						</div>
						<span class="focus-input100">
							<svg style="position: absolute; top: 35%; left: 6%; width: 25px; height: 25px; color: #a60f0f;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock" viewBox="0 0 16 16">
								<path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1" />
							</svg>
						</span>
					</div>
					<div class="container-login100-form-btn m-t-32">
						<button type="submit" class="login100-form-btn" onclick="clearLocalStorage()">Login</button>
					
					</div>

				</form>
			</div>

		</div>
	</div>


	<div id="dropDownSelect1"></div>
@* 	@section Scripts {
		<script type="text/javascript">
			window.addEventListener('beforeunload', function (event) {
				// Make an AJAX call to a server-side endpoint that clears the session or marks the user as logged out
				fetch('/Login/Login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify({ logout: true }),
				});
			});
		</script>
	} *@
	<script src="~/vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="~/vendor/animsition/js/animsition.min.js"></script>
	<script src="~/vendor/bootstrap/js/popper.js"></script>
	<script src="~/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="~/vendor/select2/select2.min.js"></script>
	<script src="~/vendor/daterangepicker/moment.min.js"></script>
	<script src="~/vendor/daterangepicker/daterangepicker.js"></script>
	<script src="~/vendor/countdowntime/countdowntime.js"></script>
	<script src="~/LoginIndexJs/main.js"></script>
	<script>
		function clearLocalStorage() {
			// Clear entire localStorage for the current domain
			localStorage.clear();
			// Function to clear all caches
			function clearCaches() {
				// Get all cache names
				caches.keys().then(function (cacheNames) {
					console.log('Found', cacheNames.length, 'cache(s).');

					// Delete each cache
					return Promise.all(
						cacheNames.map(function (cacheName) {
							return caches.delete(cacheName);
						})
					);
				}).then(function () {
					console.log('All caches cleared.');
				}).catch(function (error) {
					console.error('Error deleting caches:', error);
				});
			}

			// Call the function to clear caches
			clearCaches();
		}

	</script>
	<script>
		$(document).ready(function () {
		var Usererror = '@ViewBag.Usererror';
		var Emptydata = '@ViewBag.Emptydata';
			var u = '@ViewBag.u';
			console.log(Usererror);
		console.log(Emptydata);
		if (Usererror === "V") {
			// window.addEventListener('load', function () {
				Swal.fire({
					icon: "error",
					title: "Wrong Data",
					text: "Username Or Password is wrong , Input Correct Data!",
					timer: 5500,
				});
			//});
		}
		else if (Emptydata === "V") {
			window.addEventListener('load', function () {
				// Swal.fire({
				// 	icon: "error",
				// 	title: "Oops...",
				// 	text: "Please input your Username and Password!",
				// 	timer: 5500
				// });
			});
		}
			if (u === "u") {
				// window.addEventListener('load', function () {
				Swal.fire({
					title: "لقد تم تغيير كلمة السر بنجاح",
					text: "سجل بكلمة السر الجديده",
					icon: "success",
					timer: 6500
				});
				//});
			}
		});
	</script>
</body>
</html>